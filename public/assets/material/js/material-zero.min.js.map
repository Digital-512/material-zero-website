{"version":3,"file":"material-zero.min.js","sources":["../../src/polyfill.js","../../src/layout/layout.js","../../src/alert/alert.js","../../src/collapse/collapse.js","../../src/material-zero.js"],"sourcesContent":["\"use strict\";\r\n\r\n// POLYFILL\r\n// Source: polyfill.io\r\n\r\nconst _matches = () => {\r\n    Element.prototype.matches = Element.prototype.webkitMatchesSelector\r\n        || Element.prototype.oMatchesSelector\r\n        || Element.prototype.msMatchesSelector\r\n        || Element.prototype.mozMatchesSelector\r\n        || function matches(selector) {\r\n            var element = this;\r\n            var elements = (element.document || element.ownerDocument).querySelectorAll(selector);\r\n            var index = 0;\r\n\r\n            while (elements[index] && elements[index] !== element) {\r\n                ++index;\r\n            }\r\n\r\n            return !!elements[index];\r\n        }\r\n}\r\n\r\nconst _closest = () => {\r\n    Element.prototype.closest = function closest(selector) {\r\n        var node = this;\r\n\r\n        while (node) {\r\n            if (node.matches(selector)) return node;\r\n            else node = 'SVGElement' in window && node instanceof SVGElement ? node.parentNode : node.parentElement;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nconst _nodeListForEach = () => {\r\n    NodeList.prototype.forEach = Array.prototype.forEach;\r\n}\r\n\r\nconst _remove = () => {\r\n    Document.prototype.remove = Element.prototype.remove = function remove() {\r\n        if (this.parentNode)\r\n            this.parentNode.removeChild(this);\r\n    }\r\n}\r\n\r\nexport const initializePolyfill = () => {\r\n    // Matches\r\n    if (!('document' in self && \"matches\" in document.documentElement))\r\n        _matches();\r\n\r\n    // Closest\r\n    if (!('document' in self && \"closest\" in document.documentElement))\r\n        _closest();\r\n\r\n    // NodeList forEach\r\n    if (!('forEach' in NodeList.prototype))\r\n        _nodeListForEach();\r\n\r\n    // Remove\r\n    if (!('Element' in self && 'remove' in Element.prototype))\r\n        _remove();\r\n}\r\n","\"use strict\";\r\n\r\n// LAYOUT\r\n\r\nconst cssClasses = {\r\n    LAYOUT: 'mz-layout',\r\n    DRAWER: 'mz-layout-drawer',\r\n    DRAWER_BUTTON: 'mz-layout-drawer-button',\r\n    OBFUSCATOR: 'mz-layout-obfuscator',\r\n    NO_SCROLLBAR: 'mz-no-scrollbar',\r\n    IS_VISIBLE: 'is-visible'\r\n}\r\n\r\nconst showDrawer = el => {\r\n    el.classList.add(cssClasses.NO_SCROLLBAR);\r\n    el._obfuscator.classList.add(cssClasses.IS_VISIBLE);\r\n    el._drawer.classList.add(cssClasses.IS_VISIBLE);\r\n    el._drawer_button.setAttribute('aria-expanded', true);\r\n}\r\n\r\nconst hideDrawer = el => {\r\n    el.classList.remove(cssClasses.NO_SCROLLBAR);\r\n    el._obfuscator.classList.remove(cssClasses.IS_VISIBLE);\r\n    el._drawer.classList.remove(cssClasses.IS_VISIBLE);\r\n    el._drawer_button.setAttribute('aria-expanded', false);\r\n}\r\n\r\nexport const initializeLayout = element => {\r\n    // Get elements from HTML\r\n    element._layout = element.getElementsByClassName(cssClasses.LAYOUT).item(0);\r\n    element._drawer = element.getElementsByClassName(cssClasses.DRAWER).item(0);\r\n    element._drawer_button = element.getElementsByClassName(cssClasses.DRAWER_BUTTON).item(0);\r\n\r\n    // Add layout obfuscator\r\n    element._obfuscator = document.createElement('div');\r\n    element._obfuscator.classList.add(cssClasses.OBFUSCATOR);\r\n    element._layout.appendChild(element._obfuscator);\r\n\r\n    // Initialize elements\r\n    element._drawer_button.setAttribute('aria-expanded', false);\r\n    element._drawer_button.setAttribute('role', 'button');\r\n    element._drawer_button.setAttribute('tabindex', '0');\r\n\r\n    // Events\r\n    element._drawer_button.addEventListener('click', () => showDrawer(element));\r\n    element._obfuscator.addEventListener('click', () => hideDrawer(element));\r\n    element.addEventListener('keydown', evt => {\r\n        if (evt.keyCode === 27 && element._drawer.classList.contains(cssClasses.VISIBLE))\r\n            hideDrawer(element);\r\n    });\r\n}\r\n","\"use strict\";\r\n\r\n// ALERT\r\n\r\n// Transition timeout in milliseconds.\r\nconst transitionTimeout = 200;\r\n\r\nconst cssClasses = {\r\n    ALERT_DISMISSIBLE: 'mz-alert--dismissible'\r\n}\r\n\r\nconst onClick = evt => {\r\n    let button = evt.target;\r\n    let parent = button.parentNode;\r\n\r\n    if (button.dataset.dismiss === 'true' && parent.classList.contains(cssClasses.ALERT_DISMISSIBLE)) {\r\n        parent.style.opacity = 0;\r\n        setTimeout(() => parent.remove(), transitionTimeout);\r\n    }\r\n}\r\n\r\nexport const initializeAlert = element => {\r\n    // Add event listener for dismissible alerts.\r\n    element.addEventListener('click', onClick);\r\n}\r\n","\"use strict\";\r\n\r\n// COLLAPSE\r\n\r\n// Transition timeout in milliseconds.\r\nconst transitionTimeout = 200;\r\n\r\n// Defines the delay of closing unified accordion items after\r\n// opening current item.\r\n// -> This delay must be shorter than transitionTimeout.\r\nconst accordionHideDelay = 50;\r\n\r\nconst cssClasses = {\r\n    VISIBLE: 'is-visible',\r\n    ACTIVE: 'is-active',\r\n    COLLAPSING: 'collapsing'\r\n}\r\n\r\nconst triggerNames = {\r\n    COLLAPSE: 'collapse',\r\n    TAB: 'tab'\r\n}\r\n\r\nconst dataAttr = {\r\n    TRIGGER: 'trigger',\r\n    TARGET: 'target',\r\n    UNIFY: 'unify'\r\n}\r\n\r\nconst TRIGGER_COLLAPSE = '[data-' + dataAttr.TRIGGER + '=\"' + triggerNames.COLLAPSE + '\"]';\r\nconst TRIGGER_TAB = '[data-' + dataAttr.TRIGGER + '=\"' + triggerNames.TAB + '\"]';\r\n\r\nconst show = (el, anim) => {\r\n    // If animation is disabled, only add is-visible class.\r\n    if (!anim) {\r\n        el.classList.add(cssClasses.VISIBLE);\r\n        return;\r\n    }\r\n\r\n    el.classList.add(cssClasses.COLLAPSING);\r\n\r\n    el.style.height = el.scrollHeight + 'px';\r\n\r\n    setTimeout(() => {\r\n        el.classList.remove(cssClasses.COLLAPSING);\r\n        el.classList.add(cssClasses.VISIBLE);\r\n\r\n        el.style.removeProperty('height');\r\n    }, transitionTimeout);\r\n}\r\n\r\nconst hide = (el, anim) => {\r\n    // If animation is disabled, only remove is-visible class.\r\n    if (!anim) {\r\n        el.classList.remove(cssClasses.VISIBLE);\r\n        return;\r\n    }\r\n\r\n    el.style.height = el.scrollHeight + 'px';\r\n\r\n    el.offsetHeight; // reflow element\r\n\r\n    el.classList.remove(cssClasses.VISIBLE);\r\n    el.classList.add(cssClasses.COLLAPSING);\r\n\r\n    el.style.removeProperty('height');\r\n\r\n    setTimeout(() => {\r\n        el.classList.remove(cssClasses.COLLAPSING);\r\n    }, transitionTimeout);\r\n}\r\n\r\nconst onClick = evt => {\r\n    let btn = evt.target.closest(TRIGGER_COLLAPSE) || evt.target.closest(TRIGGER_TAB);\r\n\r\n    if (!btn)\r\n        return;\r\n\r\n    // Prevent link behaviour of trigger button.\r\n    if (btn.hasAttribute('href'))\r\n        evt.preventDefault();\r\n\r\n    // Get trigger type.\r\n    let tab = btn.dataset[dataAttr.TRIGGER] === triggerNames.TAB;\r\n\r\n    // Find all collapsibles defined in data-collapse-target attribute.\r\n    let collapsibles = evt.currentTarget.querySelectorAll(btn.dataset[dataAttr.TARGET] || btn.getAttribute('href'));\r\n\r\n    // If accordion is unified, find all its elements and close all\r\n    // visible collapsible items.\r\n    let unified = evt.currentTarget.querySelectorAll(btn.dataset[dataAttr.UNIFY]);\r\n\r\n    unified.forEach(el => {\r\n        // Ignore items that should be expanded by current trigger.\r\n        if ([].indexOf.call(collapsibles, el) !== -1)\r\n            return;\r\n\r\n        if (!el.classList.contains(cssClasses.COLLAPSING) && el.classList.contains(cssClasses.VISIBLE))\r\n            tab ? hide(el, false) : setTimeout(() => hide(el, true), accordionHideDelay);\r\n    });\r\n\r\n    let thisExpanded = true;\r\n\r\n    collapsibles.forEach(el => {\r\n        // Prevent creating a new animation if current is not finished yet.\r\n        if (el.classList.contains(cssClasses.COLLAPSING))\r\n            return;\r\n\r\n        // Toggle collapse.\r\n        if (el.classList.contains(cssClasses.VISIBLE)) {\r\n            if (tab) return;\r\n\r\n            hide(el, !tab);\r\n            thisExpanded = false;\r\n        } else {\r\n            show(el, !tab);\r\n            thisExpanded = true;\r\n        }\r\n    });\r\n\r\n    // Find all buttons in this collapse.\r\n    let unifiedButtons = evt.currentTarget.querySelectorAll('[data-' + dataAttr.UNIFY + '=\"' + btn.dataset[dataAttr.UNIFY] + '\"]');\r\n\r\n    unifiedButtons.forEach(el => {\r\n        // Ignore current button.\r\n        if (el === btn)\r\n            return;\r\n\r\n        // Remove active class and set aria-expanded=\"false\" for all\r\n        // other buttons in this collapse.\r\n        el.classList.remove(cssClasses.ACTIVE);\r\n        el.setAttribute('aria-expanded', false);\r\n    });\r\n\r\n    // Set active class and aria-expanded according to current collapse state.\r\n    thisExpanded ? btn.classList.add(cssClasses.ACTIVE) : btn.classList.remove(cssClasses.ACTIVE);\r\n    btn.setAttribute('aria-expanded', thisExpanded);\r\n}\r\n\r\nexport const initializeCollapse = element => {\r\n    // Add event listener for collapse toggle buttons.\r\n    element.addEventListener('click', onClick);\r\n}\r\n","\"use strict\";\r\n\r\n// Import polyfills.\r\nimport { initializePolyfill } from './polyfill';\r\n\r\n// Import components.\r\n// Remove unnecessary components from here.\r\nimport { initializeLayout } from './layout/layout';\r\nimport { initializeAlert } from './alert/alert';\r\nimport { initializeCollapse } from './collapse/collapse';\r\n\r\n// Exported initialization function.\r\n// Remove unnecessary components from here.\r\nexport const initialize = element => {\r\n    initializeLayout(element);\r\n    initializeAlert(element);\r\n    initializeCollapse(element);\r\n}\r\n\r\n// Initialize polyfills.\r\ninitializePolyfill();\r\n\r\n// Default initialization.\r\n// Remove or comment this line if you do not want to\r\n// initialize components on a BODY element.\r\ninitialize(document.body);\r\n"],"names":["cssClasses","LAYOUT","DRAWER","DRAWER_BUTTON","OBFUSCATOR","NO_SCROLLBAR","IS_VISIBLE","hideDrawer","el","classList","remove","_obfuscator","_drawer","_drawer_button","setAttribute","initializeLayout","element","_layout","getElementsByClassName","item","document","createElement","add","appendChild","addEventListener","evt","keyCode","contains","VISIBLE","onClick","button","target","parent","parentNode","dataset","dismiss","style","opacity","setTimeout","triggerNames","dataAttr","TRIGGER_COLLAPSE","TRIGGER_TAB","hide","anim","height","scrollHeight","offsetHeight","removeProperty","btn","closest","hasAttribute","preventDefault","tab","collapsibles","currentTarget","querySelectorAll","getAttribute","forEach","indexOf","call","thisExpanded","show","initialize","initializeAlert","initializeCollapse","self","documentElement","Element","prototype","matches","webkitMatchesSelector","oMatchesSelector","msMatchesSelector","mozMatchesSelector","selector","elements","this","ownerDocument","index","node","window","SVGElement","parentElement","NodeList","Array","Document","removeChild","body"],"mappings":"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"}